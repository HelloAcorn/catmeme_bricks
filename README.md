# 🧱 벽돌깨기 게임

Python Flask와 HTML5 Canvas를 사용한 웹 기반 벽돌깨기 게임입니다.
사용자가 업로드한 이미지를 픽셀화하여 벽돌 패턴으로 만들 수 있는 특별한 기능이 있습니다!

## 🎨 주요 기능

### 게임 기능
- **마우스 조작**: 마우스를 좌우로 움직여 패들을 조작
- **픽셀아트 벽돌**: 냥캣 기본 패턴 또는 사용자 업로드 이미지
- **파티클 효과**: 벽돌이 깨질 때 시각적 효과
- **일시정지**: 스페이스바로 일시정지/재개 가능
- **고양이 밈 영상**: 게임 플레이에 따라 변화하는 재미있는 영상들

### 🖼️ 이미지 픽셀화 기능
- **이미지 업로드**: JPG, PNG 등 다양한 이미지 형식 지원
- **픽셀화 옵션**: 8x8, 16x16, 32x32, 64x64 픽셀 크기 선택 가능
- **실시간 미리보기**: 픽셀화된 이미지를 실시간으로 확인
- **자동 벽돌 생성**: 픽셀 하나가 벽돌 하나로 변환
- **색상 보존**: 원본 이미지의 색상을 그대로 벽돌에 적용
- **🛡️ 테두리 보호**: 이미지 가장자리의 벽돌은 깨지지 않는 특별한 블록으로 변환
- **🎯 스마트 크기 조정**: 벽돌 크기에 따라 공, 패들, 속도가 자동으로 최적화

## 🚀 설치 및 실행

### 1. 필요한 패키지 설치

```bash
pip install -r requirements.txt
```

### 2. 게임 실행

```bash
python app.py
```

### 3. 웹 브라우저에서 접속

http://localhost:5000 또는 http://0.0.0.0:5000

## 🎮 게임 조작법

### 기본 조작
- **패들 조작**: 마우스를 좌우로 움직이기
- **게임 시작**: 스페이스바 또는 캔버스 클릭
- **일시정지/재개**: 스페이스바
- **다시 시작**: 게임 오버 후 스페이스바

### 이미지 업로드
1. **"📷 이미지 업로드"** 버튼을 클릭하여 이미지 선택
2. **픽셀 크기** 드롭다운에서 원하는 해상도 선택
3. 자동으로 픽셀화되어 벽돌 맵으로 변환됨
4. **"기본 패턴"** 버튼으로 냥캣 패턴으로 되돌리기

## 🎯 게임 룰

1. 패들을 움직여서 공을 튕겨 벽돌을 깨트리세요
2. 모든 벽돌을 깨면 새로운 패턴으로 다시 시작됩니다
3. 공을 놓치면 게임 오버입니다
4. 패들의 어느 부분에 공이 맞는지에 따라 공의 각도가 달라집니다
5. 공의 위치에 따라 고양이 밈 영상이 바뀝니다!

## 📁 프로젝트 구조

```
bricks/
├── app.py              # Flask 웹서버 (이미지 처리 API 포함)
├── requirements.txt    # Python 패키지 목록 (Pillow 추가)
├── README.md          # 프로젝트 설명
├── templates/
│   └── index.html     # 메인 게임 페이지 (업로드 UI 포함)
└── static/
    ├── css/
    │   └── style.css  # 스타일시트 (업로드 섹션 스타일 포함)
    ├── js/
    │   └── game.js    # 게임 로직 (이미지 처리 기능 포함)
    ├── chipychipy.mp4 # 고양이 밈 영상 1
    └── huh.mp4        # 고양이 밈 영상 2
```

## 🛠️ 기술 스택

- **Backend**: Python Flask, Pillow (PIL)
- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Graphics**: HTML5 Canvas API
- **Image Processing**: Python PIL/Pillow
- **File Upload**: HTML5 File API, FormData
- **Responsive**: CSS Media Queries

## 🎨 이미지 처리 세부사항

- **지원 형식**: JPEG, PNG, GIF, BMP 등
- **최대 파일 크기**: 16MB
- **픽셀화 방법**: Nearest neighbor 리샘플링
- **투명도 처리**: 알파 채널이 있는 픽셀은 투명 처리
- **색상 변환**: RGB 색상을 HEX 코드로 변환하여 벽돌 색상으로 사용

## 🛡️ 테두리 보호 시스템

사용자 이미지로 생성된 벽돌 중 **가장자리(테두리)**에 위치한 벽돌들은 특별한 **깨지지 않는 블록**으로 변환됩니다:

- **시각적 구분**: 짙은 회색 색상과 금속 효과로 일반 블록과 구분
- **특별한 파티클**: 공이 부딪혔을 때 금색 반짝임 효과
- **겹침 방지**: 테두리 블록과 내부 블록이 분리되어 충돌 오류 해결
- **게임 밸런스**: 테두리 보호로 게임이 너무 쉽게 끝나지 않음
- **전략적 요소**: 공의 각도를 조절해 내부 블록을 공략해야 함

## 🎯 스마트 크기 조정 시스템

벽돌 크기에 따라 게임 요소들이 자동으로 최적화됩니다:

- **공 크기**: 벽돌 크기의 30% (최소 2px, 최대 8px)
- **패들 크기**: 공 크기에 비례하여 조정
- **게임 속도**: 작은 요소일수록 약간 빠르게 조정
- **충돌 정확도**: 64x64에서도 정확한 충돌 감지 보장

## 💡 사용 팁

1. **단순한 이미지**가 픽셀화했을 때 더 예쁘게 나옵니다
2. **대비가 강한 이미지**가 게임 플레이에 더 적합합니다
3. **8x8은 매우 간단한 패턴**, **64x64는 매우 상세한 패턴**에 적합합니다
4. **투명 배경 PNG**를 사용하면 배경 없는 깔끔한 패턴을 만들 수 있습니다
5. **테두리가 있는 이미지**를 사용하면 자동으로 방어벽이 생성됩니다
6. **32x32 이상**의 큰 크기는 더 정교한 이미지 표현이 가능하지만 게임이 어려워집니다
7. **64x64 모드**에서는 자동 크기 조정으로 작은 벽돌에도 정확한 충돌 감지가 가능합니다

즐거운 게임하세요! 🎮✨ 